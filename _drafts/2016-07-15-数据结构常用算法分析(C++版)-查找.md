---
layout: post
title:  "数据结构常用算法分析(C++版)-查找"
date:    2016-07-15 20:50
categories: 数据结构与算法
comments: true
---

## 简介

这一节，其实一开始我是拒绝的，因为我感觉在本科学习的时候没怎么学呀！不过后来想了想，突然眼前一亮，“Duang！”
查找在数据库上有辣么重要的应用，还是写出来吧！不写完，总感觉总结的不是很完整！

另外话说，我当时去哪玩去了？是骗小女生去了？不应该呀，我这么善良的宝宝~

好了，收！

这节呢，就讨论一下7种常用的查找算法，部分有代码实现，一起来看看吧！
相关代码已经托管到Github上了~[我是代码，快点我](https://github.com/xnzaa/DataStructure-Algorithm/tree/master/Search_)

### 基础知识：

查找分类
 
 * 静态查找和动态查找，（动态查找对查找表有删除和插入操作）
 * 无序查找和有序查找。（要求查找数列是否必须有序）

平均查找长度（Average Search Length，ASL）计算方法：ASL = （Pi*Ci的和）

## 8大查找算法

### 静态查找

#### 顺序查找

顺序查找对查找表无要求，查找过程依次遍历数组元素，进行对比后返回~

#### 二分查找

最多比较次数（(log2n)向下取整+1）

#### 斐波那契查找

#### 索引顺序表查找

索引顺序表查找是对顺序查找和二分查找的结合，通过索引-数组的关系来维护，要求部分有序，即数组内部无序，数组之间有序！

算法步骤如下：

 * 选取各块中的最大关键字组成索引表；
 * 对索引表进行二分查找或顺序查找，确定在哪个块中；
 * 在已确定的块中用顺序法进行查找。

### 动态查找

#### 二叉排序树(BST)

也叫二叉查找树，左小、右大！

二叉排序树定义：

 * 左子树：不为空，则小于根结点的值
 * 右子树：不为空，则大于根结点的值
 * 左右孩子分别为二叉排序树

二叉搜索树的操作：（利用树的递归定义的性质）

查找： 如果值大于根节点，着查找右孩子，否则查找左孩子，递归下去。

插入： 先查找，如果值大于返回结点，则插入右孩子，否则插入左孩子。

删除： 右孩子为NULL，直接赋值左孩子；左孩子为NULL，直接赋值右孩子；均不为NULL，找到左孩子的最大右孩子，置换，重接终端结点

#### 平衡二叉树（AVL树）

定义：

平衡因子BF只能取 -1，0，1   即AVL树上任何结点的左右子树的深度之差不能超过1

平衡二叉树的方法：

 * 单向右旋
 * 单项左旋
 * 双向旋转 先左后右，转化为1
 * 双向旋转 先右后左，转化为2

#### B-树与B+树

B-树：（m阶）

 * 每个结点最多m棵子树；
 * 根节点不是叶结点，至少有2棵子树
 * 除根外，所有非终端结点至少m/2向上取整棵子树
 * 结点结构（n,a1,k1,a2,k2,a3,k3,...,kn,an）
 * 所有叶子结点在同一层上

B-树的分裂：（母爱无私，兄弟奉献）（并不太懂）

B+树（这对文件系统而变种的B-树）

 * n棵子树的结点含有n个关键字；（B-树是N+1）
 * 所有叶子结点包含全部关键字，及指向关键字的指针，并且按照关键字大小顺序连接（B-树叶子结点只包含部分，且不相连）
 * 非终端结点是索引，包含子树中最大（小）的关键字（B-树非终端结点，比子树的最大（小）值要大（小））

#### 哈希表

哈希表，散列，哈希地址，

冲突：将不同的关键字映射到同一Hash地址。冲突只能尽可能地减少，而不能完全避免

6种常用Hash算法：

 * 直接定址法	H=key 或者 H=a*key+b
 * 数字分析法	分析关键字的基，并选择冲突次数较少的基
 * 平方取中法	取关键字平方后的中间几位
 * 折叠法	关键字的基大致分布均匀，取几部分关键字的叠加和
 * 除留余数法	H=key % p
 * 随机数法	

4种常用冲突解决方法：

 * 开放地址法	Hi=(H+d) % m (d 取值 线性探测，平方探测，伪随机数探测)
 * 再hash法	Hi=H(H)
 * 链地址法	(比较常用的Hash冲突解决方法)
 * 公共溢出区	填入策略不定